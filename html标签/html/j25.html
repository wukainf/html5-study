<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      * {
        margin: 0;
        padding: 0;
      }

      body {
        position: relative;
      }

      .box {
        width: 100%;
        height: 966px;
      }

      .box:nth-child(1) {
        background: green;
      }
      .box:nth-child(2) {
        background: orange;
      }
      .box:nth-child(3) {
        background: pink;
      }
      .box:nth-child(4) {
        background: #444;
      }

      ul {
        list-style: none;
        height: 100px;
        width: 25px;
        border: 1px solid white;
        position: fixed;
        top: 400px;
        left: 50px;
      }

      li {
        width: 25px;
        height: 25px;
        cursor: pointer;
      }

      ul li:nth-child(1) {
        background: green;
      }
      ul li:nth-child(2) {
        background: orange;
      }
      ul li:nth-child(3) {
        background: pink;
      }
      ul li:nth-child(4) {
        background: #444;
      }

      .bigbox {
        width: 100%;
        position: absolute;
      }
    </style>
  </head>
  <body>
    <div class="bigbox" id="bigbox">
    <div class="box">
      first
    </div>
    <div class="box">
      second
    </div>
    <div class="box">
      third
    </div>
    <div class="box">
      fourth
    </div>
    </div>
    <ul>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>

    <script type="text/javascript">
      var lis = document.body.getElementsByTagName("li");
      var current = 0;
      var set = null;
      for (i = 0;i < lis.length;i++) {
        lis[i].index = i;
        lis[i].onclick = function() {
          clearInterval(set);
          current = document.body.scrollTop;
          var speed = (this.index * 966 - current) / 10;
          // speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
          console.log(speed);
          set = setInterval(function() {
            current += speed;
            console.log(current);
            window.scrollTo(0,current);
            if (Math.abs(current - this.index * 966)<200) {
              clearInterval(set);
            }
          },30);
        };
      }
      window.onscroll = function() {
        current = document.body.scrollTop;
      };
    </script>
  </body>
</html>
